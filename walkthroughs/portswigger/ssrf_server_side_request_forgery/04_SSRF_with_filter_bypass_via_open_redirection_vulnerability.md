# URL
https://portswigger.net/web-security/ssrf/lab-ssrf-filter-bypass-via-open-redirection
# Concept
* SSRF through open-redirection vulnerability
# Method of solve
* access the lab in the Burp Suite browser as usual
* access the any of the product pages and click on the `Check stock` button
* go to the Burp Suite `proxy` -> `http history` tab and click on the POST request to `/product/stock`
* send this request to the Repeater tool
* in the Burp Suite brower, in the product page, click on the `next product` link at the the bottom right corner of the page
* go to the HTTP history tab and observe the GET request to `/product/nextproduct/`
* the entire path of the request is as follows:
```
/product/nextProduct?currentProductId=16&path=/product?productId=17
```
* observe that the `path` parameter is redirecting us to another page
* we can replace the value of the `path` parameter with our mailicious SSRF payload, which looks like this
```
http://192.168.0.12:8080/admin
```
* which means the full payload that we need to abuse the app looks like this:
```
stockApi=/product/nextProduct?currentProductId=16%26path=http://192.168.0.12:8080/admin
```
* we are able to access the admin panel, and we can send this POST body data to delete the `carlos` user and complete the lab
```
stockApi=/product/nextProduct?currentProductId=16%26path=http://192.168.0.12:8080/admin/delete?username=carlos
```
